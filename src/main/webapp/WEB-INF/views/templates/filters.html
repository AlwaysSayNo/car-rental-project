<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Filters</title>
</head>
<body>
<!-- filters -->
<select th:fragment="filterSelect (filtersMap, filterBy, filterValue)" id="filterSelect" class="form-select border-secondary bg-light w-100 h-50 mx-1" aria-label="Filter">
    <option value="none" selected
            th:text="#{filter}"
            th:selected="${filterBy} == 'none'">Filter
    </option>
    <optgroup th:each="filter : ${filtersMap.entrySet()}" th:with="key=${filter.key}" th:label="${filter.key}" label="optgroup">
        <option th:each="value : ${filter.value}"
                th:text="${filter.key} + ': ' + ${value}"
                th:value="${value}"
                th:selected="(${filterBy} == ${key}) and (${filterValue} == ${value})">Filter value
        </option>
    </optgroup>
</select>
</body>
</html>